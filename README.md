# 简介
本科毕业设计：基于视频理解的机场运行三维仿真系统研究与实现      
系统通过使用YOLOv5算法对监控视频进行目标检测，得到被检测目标的类别与轨迹信息；通过虚幻引擎对机场进行三维重建，实现由物理机场到数字机场的建模；对被检测目标相关信息使用透视变换等方法再处理，并导入虚幻引擎，实现了飞行区飞机运行过程的3D仿真。
# 设计思路
本系统最终需要实现：根据监控视频中飞机的运行轨迹，实现在三维建模环境中飞机模型的同轨迹仿真运行。根据需求分析，做出以下设计
## 第一步，基于视频理解的飞机目标检测实现。
   在这一步，通过目标检测算法，训练出适合本系统要求的模型，并通过模型对目标飞机进行检测，标注目标在视频的相对位置坐标，记录并导出坐标信息。
## 第二步，数据的处理。
   将第一步导出的相对视频坐标进行处理，转换为相对建模场景的坐标，并加以优化使坐标数据适合仿真需求。
## 第三步，UE4中环境建模与仿真实现。
  其一需要实现通过物理机场的实际外观向数字机场的转换，即现实机场的三维建模。其二需要导入飞机模型与处理后的坐标数据，使飞机模型可以按照坐标轨迹运行。
# 系统使用方法
## 第一步
   运行代码中Run.py。Run.py会依次执行delete_files()函数，用于删除上次运行留下的文件；detect.py，用于调用YOLOv5算法进行目标检测；Filter.py、PerspectiveTransformation.py与Extract_Coordinates.py三个文件，用于实现数据处理，最终会得到OptimizeCoordinates.csv 文件，其中存放用于第二步的坐标。
## 第二步
   运行UE4的AirPort01工程文件的Play仿真。点击后，便可看到飞机按照第一步导出的OptimizeCoordinates.csv 文件中坐标轨迹进行运动。

# 代码说明
## ——————6、29更新——————
   目前为提交学校系统时提交的代码压缩包，为满足系统文件大小要求，删除了很多内容，可能无法直接使用，后续会跟进；
   具体实现步骤，也会后续跟进；

# 项目不足之处
## 不足一
坐标的处理依旧可以改进。由于拍摄监控视频的摄像头成广角拍摄，会导致坐标畸变很严重，虽然有多个数据处理措施，但在不同的数据传入时，依旧可能无法得到令人满意的结果。
## 不足二
整个系统的完整性可以改进。目前系统可以大致分为第一部分目标检测和第二部分仿真。在使用时，需要先后运行，可以在这一角度再做优化，使得系统的使用更加完整。
